{"version":3,"file":"do-scale.js","sources":["../../../src/modules/do-scale/do-scale.ts"],"sourcesContent":["import { Easing } from '@tps/easing.types'\nimport doMap from '@modules/do-map/do-map'\n\nconst doScale = (\n  stops: Array<number>,\n  min: number,\n  max: number,\n  mode: Easing = 'LINEAR'\n) => {\n  let x = 1\n  const scale: Record<string, number> = {}\n\n  stops.map((index) => {\n    scale[index] =\n      mode !== 'NONE'\n        ? parseFloat(doMap(applyEase(mode, x), 0, 1, min, max).toFixed(1))\n        : index\n    x -= 1 / (stops.length - 1)\n    x < 0.01 ? (x = 0) : x\n  })\n\n  return scale\n}\n\nconst applyEase = (mode: Easing, x: number): number => {\n  const actions: { [key: string]: (x: number) => number } = {\n    LINEAR: (x) => x,\n    EASEIN_SINE: (x) => Math.pow(x, 1.2),\n    EASEOUT_SINE: (x) => 1 - Math.pow(1 - x, 1.2),\n    EASEINOUT_SINE: (x) =>\n      x < 0.5 ? Math.pow(x * 2, 1.2) / 2 : 1 - Math.pow((1 - x) * 2, 1.2) / 2,\n    EASEIN_QUAD: (x) => Math.pow(x, 1.5),\n    EASEOUT_QUAD: (x) => 1 - Math.pow(1 - x, 1.5),\n    EASEINOUT_QUAD: (x) =>\n      x < 0.5 ? Math.pow(x * 2, 1.5) / 2 : 1 - Math.pow((1 - x) * 2, 1.5) / 2,\n    EASEIN_CUBIC: (x) => 1 - Math.cos((x * Math.PI) / 2),\n    EASEOUT_CUBIC: (x) => Math.sin((x * Math.PI) / 2),\n    EASEINOUT_CUBIC: (x) => -(Math.cos(Math.PI * x) - 1) / 2,\n  }\n\n  return actions[mode ?? 'LINEAR']?.(x)\n}\n\nexport default doScale\n"],"names":["doScale","stops","min","max","mode","x","scale","index","doMap","applyEase","actions","_a"],"mappings":";AAGA,MAAMA,IAAU,CACdC,GACAC,GACAC,GACAC,IAAe,aACZ;AACH,MAAIC,IAAI;AACR,QAAMC,IAAgC,CAAC;AAEjC,SAAAL,EAAA,IAAI,CAACM,MAAU;AACnB,IAAAD,EAAMC,CAAK,IACTH,MAAS,SACL,WAAWI,EAAMC,EAAUL,GAAMC,CAAC,GAAG,GAAG,GAAGH,GAAKC,CAAG,EAAE,QAAQ,CAAC,CAAC,IAC/DI,GACDF,KAAA,KAAKJ,EAAM,SAAS,IACrBI,IAAA,SAAQA,IAAI;AAAA,EAAK,CACtB,GAEMC;AACT,GAEMG,IAAY,CAACL,GAAcC,MAAsB;;AACrD,QAAMK,IAAoD;AAAA,IACxD,QAAQ,CAACL,MAAMA;AAAAA,IACf,aAAa,CAACA,MAAM,KAAK,IAAIA,GAAG,GAAG;AAAA,IACnC,cAAc,CAACA,MAAM,IAAI,KAAK,IAAI,IAAIA,GAAG,GAAG;AAAA,IAC5C,gBAAgB,CAACA,MACfA,IAAI,MAAM,KAAK,IAAIA,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,KAAK,KAAK,IAAIA,KAAK,GAAG,GAAG,IAAI;AAAA,IACxE,aAAa,CAACA,MAAM,KAAK,IAAIA,GAAG,GAAG;AAAA,IACnC,cAAc,CAACA,MAAM,IAAI,KAAK,IAAI,IAAIA,GAAG,GAAG;AAAA,IAC5C,gBAAgB,CAACA,MACfA,IAAI,MAAM,KAAK,IAAIA,IAAI,GAAG,GAAG,IAAI,IAAI,IAAI,KAAK,KAAK,IAAIA,KAAK,GAAG,GAAG,IAAI;AAAA,IACxE,cAAc,CAACA,MAAM,IAAI,KAAK,IAAKA,IAAI,KAAK,KAAM,CAAC;AAAA,IACnD,eAAe,CAACA,MAAM,KAAK,IAAKA,IAAI,KAAK,KAAM,CAAC;AAAA,IAChD,iBAAiB,CAACA,MAAM,EAAE,KAAK,IAAI,KAAK,KAAKA,CAAC,IAAI,KAAK;AAAA,EACzD;AAEA,UAAOM,IAAAD,EAAQN,KAAQ,cAAhB,gBAAAO,EAAA,KAAAD,GAA4BL;AACrC;"}